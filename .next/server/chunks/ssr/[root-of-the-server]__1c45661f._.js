module.exports=[93695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},70864,a=>{a.n(a.i(33290))},2894,a=>{a.n(a.i(66188))},13718,a=>{a.n(a.i(85523))},18198,a=>{a.n(a.i(45518))},62212,a=>{a.n(a.i(66114))},72030,a=>{"use strict";let b=(0,a.i(1269).default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);a.s(["ChevronRight",()=>b],72030)},57673,65859,77906,99682,a=>{"use strict";function b(a){let b={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#039;":"'","&#8217;":"'","&#8216;":"'","&#8220;":'"',"&#8221;":'"',"&#038;":"&","&nbsp;":" ","&#160;":" ","&hellip;":"…","&#8230;":"…","&ndash;":"–","&#8211;":"–","&mdash;":"—","&#8212;":"—"};return a.replace(/&[#a-z0-9]+;/gi,a=>b[a]||a)}function c(a){let b=a.claimed;return"boolean"==typeof b?b:"object"==typeof b&&b?.raw?"1"===b.raw||"true"===b.raw:"string"==typeof b?"1"===b:"number"==typeof b&&1===b}function d(a){return!0===a.featured}a.s(["decodeHtmlEntities",()=>b,"isListingClaimed",()=>c,"isListingFeatured",()=>d],65859);let e={restaurant:"https://images.pexels.com/photos/262978/pexels-photo-262978.jpeg?auto=compress&cs=tinysrgb&w=800",business:"https://images.pexels.com/photos/380768/pexels-photo-380768.jpeg?auto=compress&cs=tinysrgb&w=800",accommodation:"https://images.pexels.com/photos/271624/pexels-photo-271624.jpeg?auto=compress&cs=tinysrgb&w=800",places:"https://images.pexels.com/photos/2739664/pexels-photo-2739664.jpeg?auto=compress&cs=tinysrgb&w=800",blog:"https://images.pexels.com/photos/261763/pexels-photo-261763.jpeg?auto=compress&cs=tinysrgb&w=800"};function f(a,b="business"){let c=new Set;if(a.featured_image&&"object"==typeof a.featured_image&&a.featured_image.src&&c.add(a.featured_image.src),Array.isArray(a.images)&&a.images.length>0&&a.images.forEach(a=>{a?.src&&c.add(a.src)}),a._embedded?.["wp:featuredmedia"]?.[0]?.source_url){let b=a._embedded["wp:featuredmedia"][0].source_url;c.add(b)}let d=Array.from(c);return 0===d.length&&d.push(e[b]),d}function g(a,b="business"){return a.featured_image&&"object"==typeof a.featured_image&&a.featured_image.src?a.featured_image.src:Array.isArray(a.images)&&a.images.length>0&&a.images[0]?.src?a.images[0].src:a._embedded?.["wp:featuredmedia"]?.[0]?.source_url?a._embedded["wp:featuredmedia"][0].source_url:a._embedded?.["wp:featuredmedia"]?.[0]?.media_details?.sizes?.medium?.source_url?a._embedded["wp:featuredmedia"][0].media_details.sizes.medium.source_url:e[b]}function h(a){return a._embedded?.["wp:featuredmedia"]?.[0]?.source_url?a._embedded["wp:featuredmedia"][0].source_url:a._embedded?.["wp:featuredmedia"]?.[0]?.media_details?.sizes?.medium?.source_url?a._embedded["wp:featuredmedia"][0].media_details.sizes.medium.source_url:e.blog}a.s(["getAllListingImages",()=>f,"getBlogPostImage",()=>h,"getListingImage",()=>g],77906);let i="https://dir.lascrucesdirectory.com/wp-json/geodir/v2",j="https://dir.lascrucesdirectory.com/wp-json/wp/v2";async function k(a,b={}){return fetch(a,b)}let l={async getRestaurants(a=3,b,c){try{let d=`${i}/restaurant?per_page=${a}&_embed`;b&&(d+=`&gd_restaurantcategory=${b}`),c&&(d+=`&search=${encodeURIComponent(c)}`);let e=await k(d,{next:{revalidate:3600}});if(!e.ok)throw Error("Failed to fetch restaurants");return await e.json()}catch(a){return console.error("Error fetching restaurants:",a),[]}},async getRestaurantCategories(){try{let a=await k(`${i}/restaurant/categories?per_page=100`,{next:{revalidate:3600}});if(!a.ok)throw Error("Failed to fetch restaurant categories");return(await a.json()).filter(a=>a.count>0)}catch(a){return console.error("Error fetching restaurant categories:",a),[]}},async getBusinesses(a=3,b,c){try{let d=`${i}/business?per_page=${a}&_embed`;b&&(d+=`&gd_businesscategory=${b}`),c&&(d+=`&search=${encodeURIComponent(c)}`);let e=await k(d,{next:{revalidate:3600}});if(!e.ok)throw Error("Failed to fetch businesses");return await e.json()}catch(a){return console.error("Error fetching businesses:",a),[]}},async getBusinessCategories(){try{let a=await k(`${i}/business/categories?per_page=100`,{next:{revalidate:3600}});if(!a.ok)throw Error("Failed to fetch business categories");return(await a.json()).filter(a=>a.count>0)}catch(a){return console.error("Error fetching business categories:",a),[]}},async getAccommodations(a=3,b,c){try{let d=`${i}/accommodation?per_page=${a}&_embed`;b&&(d+=`&gd_accommodationcategory=${b}`),c&&(d+=`&search=${encodeURIComponent(c)}`);let e=await k(d,{next:{revalidate:3600}});if(!e.ok)throw Error("Failed to fetch accommodations");return await e.json()}catch(a){return console.error("Error fetching accommodations:",a),[]}},async getAccommodationCategories(){try{let a=await k(`${i}/accommodation/categories?per_page=100`,{next:{revalidate:3600}});if(!a.ok)throw Error("Failed to fetch accommodation categories");return(await a.json()).filter(a=>a.count>0)}catch(a){return console.error("Error fetching accommodation categories:",a),[]}},async getPlaces(a=3,b,c){try{let d=`${i}/places?per_page=${a}&_embed`;b&&(d+=`&gd_placecategory=${b}`),c&&(d+=`&search=${encodeURIComponent(c)}`);let e=await k(d,{next:{revalidate:3600}});if(!e.ok)throw Error("Failed to fetch places");return await e.json()}catch(a){return console.error("Error fetching places:",a),[]}},async getPlaceCategories(){try{let a=await k(`${i}/places/categories?per_page=100`,{next:{revalidate:3600}});if(!a.ok)throw Error("Failed to fetch place categories");return(await a.json()).filter(a=>a.count>0)}catch(a){return console.error("Error fetching place categories:",a),[]}},async getFeaturedListings(a=3){try{let[b,c]=await Promise.all([k(`${i}/restaurant?per_page=100&_embed`,{next:{revalidate:3600}}),k(`${i}/business?per_page=100&_embed`,{next:{revalidate:3600}})]),d=await Promise.all([b.ok?b.json():[],c.ok?c.json():[]]);return[...d[0],...d[1]].filter(a=>a.featured_image&&"object"==typeof a.featured_image&&a.featured_image.src).sort(()=>Math.random()-.5).slice(0,a)}catch(a){return console.error("Error fetching featured listings:",a),[]}},async getBlogPosts(a=3){try{let b=await k(`${j}/posts?per_page=${a}&_embed`,{next:{revalidate:3600}});if(!b.ok)throw Error("Failed to fetch blog posts");return await b.json()}catch(a){return console.error("Error fetching blog posts:",a),[]}},async getCategoryCounts(){try{let[a,b,c,d]=await Promise.all([k(`${i}/restaurant?per_page=1`,{next:{revalidate:3600}}),k(`${i}/business?per_page=1`,{next:{revalidate:3600}}),k(`${i}/accommodation?per_page=1`,{next:{revalidate:3600}}),k(`${i}/places?per_page=1`,{next:{revalidate:3600}})]);return{restaurants:parseInt(a.headers.get("X-WP-Total")||"0"),businesses:parseInt(b.headers.get("X-WP-Total")||"0"),accommodations:parseInt(c.headers.get("X-WP-Total")||"0"),places:parseInt(d.headers.get("X-WP-Total")||"0")}}catch(a){return console.error("Error fetching category counts:",a),{restaurants:0,businesses:0,accommodations:0,places:0}}},async searchListings(a,b=10){try{let[c,d,e,f]=await Promise.all([k(`${i}/restaurant?search=${encodeURIComponent(a)}&per_page=${b}`,{next:{revalidate:3600}}),k(`${i}/business?search=${encodeURIComponent(a)}&per_page=${b}`,{next:{revalidate:3600}}),k(`${i}/accommodation?search=${encodeURIComponent(a)}&per_page=${b}`,{next:{revalidate:3600}}),k(`${i}/places?search=${encodeURIComponent(a)}&per_page=${b}`,{next:{revalidate:3600}})]),g=await Promise.all([c.json(),d.json(),e.json(),f.json()]);return[...g[0],...g[1],...g[2],...g[3]].slice(0,b)}catch(a){return console.error("Error searching listings:",a),[]}},async getListingBySlug(a,b){try{let c=await k(`${i}/${a}?slug=${b}&_embed`,{next:{revalidate:3600}});if(!c.ok)throw Error("Failed to fetch listing");let d=await c.json();return d.length>0?d[0]:null}catch(a){return console.error("Error fetching listing:",a),null}},async getListingById(a,b){try{let c=await k(`${i}/${a}/${b}?_embed`,{next:{revalidate:3600}});if(!c.ok)throw Error("Failed to fetch listing");return await c.json()}catch(a){return console.error("Error fetching listing:",a),null}},async getBlogPostById(a){try{let b=await k(`${j}/posts/${a}?_embed`,{next:{revalidate:3600}});if(!b.ok)throw Error("Failed to fetch blog post");return await b.json()}catch(a){return console.error("Error fetching blog post:",a),null}},async getBlogPostBySlug(a){try{let b=await k(`${j}/posts?slug=${a}&_embed`,{next:{revalidate:3600}});if(!b.ok)throw Error("Failed to fetch blog post");let c=await b.json();return c.length>0?c[0]:null}catch(a){return console.error("Error fetching blog post:",a),null}},async getPageById(a){try{let b=await k(`${j}/pages/${a}?_embed`,{next:{revalidate:3600}});if(!b.ok)throw Error("Failed to fetch page");return await b.json()}catch(a){return console.error("Error fetching page:",a),null}},async getPageBySlug(a){try{let b=await k(`${j}/pages?slug=${a}&_embed`,{next:{revalidate:3600}});if(!b.ok)throw Error("Failed to fetch page");let c=await b.json();return c.length>0?c[0]:null}catch(a){return console.error("Error fetching page:",a),null}}};var m=a.i(717);let n=(0,m.cache)(async(a,b)=>l.getListingBySlug(a,b)),o=(0,m.cache)(async a=>l.getBlogPostBySlug(a)),p=(0,m.cache)(async()=>{let a=async(a,b=5e3)=>Promise.race([a,new Promise(a=>setTimeout(()=>a(null),b))]),[b,c,d]=await Promise.all([a(l.getFeaturedListings(3)).then(a=>a||[]),a(l.getBlogPosts(3)).then(a=>a||[]),a(l.getCategoryCounts()).then(a=>a||{restaurants:0,businesses:0,accommodations:0,places:0})]);return{featuredListings:b,blogPosts:c,categoryCounts:d}}),q=(0,m.cache)(async(a,b,c)=>{let d=[],e=[];try{switch(a){case"restaurant":[d,e]=await Promise.all([l.getRestaurants(100,b,c),l.getRestaurantCategories()]);break;case"business":[d,e]=await Promise.all([l.getBusinesses(100,b,c),l.getBusinessCategories()]);break;case"accommodation":[d,e]=await Promise.all([l.getAccommodations(100,b,c),l.getAccommodationCategories()]);break;case"places":[d,e]=await Promise.all([l.getPlaces(100,b,c),l.getPlaceCategories()])}}catch(b){console.error(`Error fetching ${a}:`,b)}return{listings:d,categories:e}}),r=(0,m.cache)(async(a=50)=>l.getBlogPosts(a));a.s(["getCachedArchiveData",0,q,"getCachedBlogPostBySlug",0,o,"getCachedBlogPosts",0,r,"getCachedHomePageData",0,p,"getCachedListingBySlug",0,n],99682),a.s([],57673)},60612,a=>{"use strict";let b=(0,a.i(1269).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);a.s(["Calendar",()=>b],60612)},52289,a=>{"use strict";var b=a.i(7997),c=a.i(95936),d=a.i(3236),e=a.i(60612);let f=(0,a.i(1269).default)("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);var g=a.i(72030);a.i(57673);var h=a.i(77906),i=a.i(65859),j=a.i(99682);async function k(){let a=await (0,j.getCachedBlogPosts)(50);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("section",{className:"bg-gradient-to-br from-slate-900 via-slate-800 to-emerald-900 py-24",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,b.jsxs)("nav",{"aria-label":"Breadcrumb",className:"flex items-center space-x-2 text-sm text-slate-300 mb-8",children:[(0,b.jsx)(c.default,{href:"/",className:"hover:text-white transition-colors",children:"Home"}),(0,b.jsx)(g.ChevronRight,{className:"w-4 h-4","aria-hidden":"true"}),(0,b.jsx)("span",{className:"text-white",children:"Blog"})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-6 mb-6",children:[(0,b.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-2xl flex items-center justify-center shadow-2xl",children:(0,b.jsx)(f,{className:"w-10 h-10 text-white","aria-hidden":"true"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-5xl font-bold text-white mb-2",children:"Blog"}),(0,b.jsx)("p",{className:"text-xl text-slate-300",children:"Stories, news, and updates from Las Cruces"})]})]}),(0,b.jsx)("div",{className:"flex items-center space-x-4 text-slate-300",children:(0,b.jsxs)("span",{className:"px-4 py-2 bg-white/10 backdrop-blur-sm rounded-lg border border-white/20",children:[a.length," articles"]})})]})}),(0,b.jsx)("section",{className:"py-16 px-4 sm:px-6 lg:px-8",children:(0,b.jsx)("div",{className:"max-w-7xl mx-auto",children:a.length>0?(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:a.map(a=>{let f=(0,h.getBlogPostImage)(a),g=a.excerpt.rendered.replace(/<[^>]*>/g,"").trim();return(0,b.jsx)("article",{children:(0,b.jsxs)(c.default,{href:`/blog/${a.slug}`,"aria-label":`Read article: ${(0,i.decodeHtmlEntities)(a.title.rendered)}`,className:"group block bg-white rounded-2xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 focus:outline-none focus-visible:ring-2 focus-visible:ring-emerald-500 focus-visible:ring-offset-2",children:[(0,b.jsx)("div",{className:"relative h-56 overflow-hidden",children:(0,b.jsx)(d.default,{src:f,alt:(0,i.decodeHtmlEntities)(a.title.rendered),fill:!0,sizes:"(max-width: 768px) 100vw, (max-width: 1024px) 50vw, 33vw",className:"object-cover group-hover:scale-110 transition-transform duration-500"})}),(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex items-center text-sm text-slate-500 mb-3",children:[(0,b.jsx)(e.Calendar,{className:"w-4 h-4 mr-2","aria-hidden":"true"}),new Date(a.date).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})]}),(0,b.jsx)("h3",{className:"text-xl font-bold text-slate-900 mb-3 group-hover:text-emerald-600 transition-colors",children:(0,i.decodeHtmlEntities)(a.title.rendered)}),(0,b.jsx)("p",{className:"text-slate-600 line-clamp-3",children:(0,i.decodeHtmlEntities)(g)})]})]})},a.id)})}):(0,b.jsxs)("div",{className:"text-center py-16",children:[(0,b.jsx)(f,{className:"w-16 h-16 text-slate-300 mx-auto mb-4","aria-hidden":"true"}),(0,b.jsx)("h3",{className:"text-2xl font-bold text-slate-900 mb-2",children:"No posts yet"}),(0,b.jsx)("p",{className:"text-slate-600",children:"Check back soon for new articles!"})]})})})]})}a.s(["default",()=>k,"metadata",0,{title:"Blog - Las Cruces Directory",description:"Read the latest articles, news, and stories about Las Cruces. Stay updated with local events, business highlights, and community news.",openGraph:{title:"Las Cruces Directory Blog",description:"Read the latest articles, news, and stories about Las Cruces.",type:"website"}},"revalidate",0,3600],52289)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__1c45661f._.js.map