module.exports=[93695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},70864,a=>{a.n(a.i(33290))},2894,a=>{a.n(a.i(66188))},13718,a=>{a.n(a.i(85523))},18198,a=>{a.n(a.i(45518))},62212,a=>{a.n(a.i(66114))},72030,a=>{"use strict";let b=(0,a.i(1269).default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);a.s(["ChevronRight",()=>b],72030)},57673,65859,77906,99682,a=>{"use strict";function b(a){let b={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#039;":"'","&#8217;":"'","&#8216;":"'","&#8220;":'"',"&#8221;":'"',"&#038;":"&","&nbsp;":" ","&#160;":" ","&hellip;":"…","&#8230;":"…","&ndash;":"–","&#8211;":"–","&mdash;":"—","&#8212;":"—"};return a.replace(/&[#a-z0-9]+;/gi,a=>b[a]||a)}function c(a){let b=a.claimed;return"boolean"==typeof b?b:"object"==typeof b&&b?.raw?"1"===b.raw||"true"===b.raw:"string"==typeof b?"1"===b:"number"==typeof b&&1===b}function d(a){return!0===a.featured}a.s(["decodeHtmlEntities",()=>b,"isListingClaimed",()=>c,"isListingFeatured",()=>d],65859);let e={restaurant:"https://images.pexels.com/photos/262978/pexels-photo-262978.jpeg?auto=compress&cs=tinysrgb&w=800",business:"https://images.pexels.com/photos/380768/pexels-photo-380768.jpeg?auto=compress&cs=tinysrgb&w=800",accommodation:"https://images.pexels.com/photos/271624/pexels-photo-271624.jpeg?auto=compress&cs=tinysrgb&w=800",places:"https://images.pexels.com/photos/2739664/pexels-photo-2739664.jpeg?auto=compress&cs=tinysrgb&w=800",blog:"https://images.pexels.com/photos/261763/pexels-photo-261763.jpeg?auto=compress&cs=tinysrgb&w=800"};function f(a,b="business"){let c=new Set;if(a.featured_image&&"object"==typeof a.featured_image&&a.featured_image.src&&c.add(a.featured_image.src),Array.isArray(a.images)&&a.images.length>0&&a.images.forEach(a=>{a?.src&&c.add(a.src)}),a._embedded?.["wp:featuredmedia"]?.[0]?.source_url){let b=a._embedded["wp:featuredmedia"][0].source_url;c.add(b)}let d=Array.from(c);return 0===d.length&&d.push(e[b]),d}function g(a,b="business"){return a.featured_image&&"object"==typeof a.featured_image&&a.featured_image.src?a.featured_image.src:Array.isArray(a.images)&&a.images.length>0&&a.images[0]?.src?a.images[0].src:a._embedded?.["wp:featuredmedia"]?.[0]?.source_url?a._embedded["wp:featuredmedia"][0].source_url:a._embedded?.["wp:featuredmedia"]?.[0]?.media_details?.sizes?.medium?.source_url?a._embedded["wp:featuredmedia"][0].media_details.sizes.medium.source_url:e[b]}function h(a){return a._embedded?.["wp:featuredmedia"]?.[0]?.source_url?a._embedded["wp:featuredmedia"][0].source_url:a._embedded?.["wp:featuredmedia"]?.[0]?.media_details?.sizes?.medium?.source_url?a._embedded["wp:featuredmedia"][0].media_details.sizes.medium.source_url:e.blog}a.s(["getAllListingImages",()=>f,"getBlogPostImage",()=>h,"getListingImage",()=>g],77906);let i="https://dir.lascrucesdirectory.com/wp-json/geodir/v2",j="https://dir.lascrucesdirectory.com/wp-json/wp/v2";async function k(a,b={}){return fetch(a,b)}let l={async getRestaurants(a=3,b,c){try{let d=`${i}/restaurant?per_page=${a}&_embed`;b&&(d+=`&gd_restaurantcategory=${b}`),c&&(d+=`&search=${encodeURIComponent(c)}`);let e=await k(d,{next:{revalidate:3600}});if(!e.ok)throw Error("Failed to fetch restaurants");return await e.json()}catch(a){return console.error("Error fetching restaurants:",a),[]}},async getRestaurantCategories(){try{let a=await k(`${i}/restaurant/categories?per_page=100`,{next:{revalidate:3600}});if(!a.ok)throw Error("Failed to fetch restaurant categories");return(await a.json()).filter(a=>a.count>0)}catch(a){return console.error("Error fetching restaurant categories:",a),[]}},async getBusinesses(a=3,b,c){try{let d=`${i}/business?per_page=${a}&_embed`;b&&(d+=`&gd_businesscategory=${b}`),c&&(d+=`&search=${encodeURIComponent(c)}`);let e=await k(d,{next:{revalidate:3600}});if(!e.ok)throw Error("Failed to fetch businesses");return await e.json()}catch(a){return console.error("Error fetching businesses:",a),[]}},async getBusinessCategories(){try{let a=await k(`${i}/business/categories?per_page=100`,{next:{revalidate:3600}});if(!a.ok)throw Error("Failed to fetch business categories");return(await a.json()).filter(a=>a.count>0)}catch(a){return console.error("Error fetching business categories:",a),[]}},async getAccommodations(a=3,b,c){try{let d=`${i}/accommodation?per_page=${a}&_embed`;b&&(d+=`&gd_accommodationcategory=${b}`),c&&(d+=`&search=${encodeURIComponent(c)}`);let e=await k(d,{next:{revalidate:3600}});if(!e.ok)throw Error("Failed to fetch accommodations");return await e.json()}catch(a){return console.error("Error fetching accommodations:",a),[]}},async getAccommodationCategories(){try{let a=await k(`${i}/accommodation/categories?per_page=100`,{next:{revalidate:3600}});if(!a.ok)throw Error("Failed to fetch accommodation categories");return(await a.json()).filter(a=>a.count>0)}catch(a){return console.error("Error fetching accommodation categories:",a),[]}},async getPlaces(a=3,b,c){try{let d=`${i}/places?per_page=${a}&_embed`;b&&(d+=`&gd_placecategory=${b}`),c&&(d+=`&search=${encodeURIComponent(c)}`);let e=await k(d,{next:{revalidate:3600}});if(!e.ok)throw Error("Failed to fetch places");return await e.json()}catch(a){return console.error("Error fetching places:",a),[]}},async getPlaceCategories(){try{let a=await k(`${i}/places/categories?per_page=100`,{next:{revalidate:3600}});if(!a.ok)throw Error("Failed to fetch place categories");return(await a.json()).filter(a=>a.count>0)}catch(a){return console.error("Error fetching place categories:",a),[]}},async getFeaturedListings(a=3){try{let[b,c]=await Promise.all([k(`${i}/restaurant?per_page=100&_embed`,{next:{revalidate:3600}}),k(`${i}/business?per_page=100&_embed`,{next:{revalidate:3600}})]),d=await Promise.all([b.ok?b.json():[],c.ok?c.json():[]]);return[...d[0],...d[1]].filter(a=>a.featured_image&&"object"==typeof a.featured_image&&a.featured_image.src).sort(()=>Math.random()-.5).slice(0,a)}catch(a){return console.error("Error fetching featured listings:",a),[]}},async getBlogPosts(a=3){try{let b=await k(`${j}/posts?per_page=${a}&_embed`,{next:{revalidate:3600}});if(!b.ok)throw Error("Failed to fetch blog posts");return await b.json()}catch(a){return console.error("Error fetching blog posts:",a),[]}},async getCategoryCounts(){try{let[a,b,c,d]=await Promise.all([k(`${i}/restaurant?per_page=1`,{next:{revalidate:3600}}),k(`${i}/business?per_page=1`,{next:{revalidate:3600}}),k(`${i}/accommodation?per_page=1`,{next:{revalidate:3600}}),k(`${i}/places?per_page=1`,{next:{revalidate:3600}})]);return{restaurants:parseInt(a.headers.get("X-WP-Total")||"0"),businesses:parseInt(b.headers.get("X-WP-Total")||"0"),accommodations:parseInt(c.headers.get("X-WP-Total")||"0"),places:parseInt(d.headers.get("X-WP-Total")||"0")}}catch(a){return console.error("Error fetching category counts:",a),{restaurants:0,businesses:0,accommodations:0,places:0}}},async searchListings(a,b=10){try{let[c,d,e,f]=await Promise.all([k(`${i}/restaurant?search=${encodeURIComponent(a)}&per_page=${b}`,{next:{revalidate:3600}}),k(`${i}/business?search=${encodeURIComponent(a)}&per_page=${b}`,{next:{revalidate:3600}}),k(`${i}/accommodation?search=${encodeURIComponent(a)}&per_page=${b}`,{next:{revalidate:3600}}),k(`${i}/places?search=${encodeURIComponent(a)}&per_page=${b}`,{next:{revalidate:3600}})]),g=await Promise.all([c.json(),d.json(),e.json(),f.json()]);return[...g[0],...g[1],...g[2],...g[3]].slice(0,b)}catch(a){return console.error("Error searching listings:",a),[]}},async getListingBySlug(a,b){try{let c=await k(`${i}/${a}?slug=${b}&_embed`,{next:{revalidate:3600}});if(!c.ok)throw Error("Failed to fetch listing");let d=await c.json();return d.length>0?d[0]:null}catch(a){return console.error("Error fetching listing:",a),null}},async getListingById(a,b){try{let c=await k(`${i}/${a}/${b}?_embed`,{next:{revalidate:3600}});if(!c.ok)throw Error("Failed to fetch listing");return await c.json()}catch(a){return console.error("Error fetching listing:",a),null}},async getBlogPostById(a){try{let b=await k(`${j}/posts/${a}?_embed`,{next:{revalidate:3600}});if(!b.ok)throw Error("Failed to fetch blog post");return await b.json()}catch(a){return console.error("Error fetching blog post:",a),null}},async getBlogPostBySlug(a){try{let b=await k(`${j}/posts?slug=${a}&_embed`,{next:{revalidate:3600}});if(!b.ok)throw Error("Failed to fetch blog post");let c=await b.json();return c.length>0?c[0]:null}catch(a){return console.error("Error fetching blog post:",a),null}},async getPageById(a){try{let b=await k(`${j}/pages/${a}?_embed`,{next:{revalidate:3600}});if(!b.ok)throw Error("Failed to fetch page");return await b.json()}catch(a){return console.error("Error fetching page:",a),null}},async getPageBySlug(a){try{let b=await k(`${j}/pages?slug=${a}&_embed`,{next:{revalidate:3600}});if(!b.ok)throw Error("Failed to fetch page");let c=await b.json();return c.length>0?c[0]:null}catch(a){return console.error("Error fetching page:",a),null}}};var m=a.i(717);let n=(0,m.cache)(async(a,b)=>l.getListingBySlug(a,b)),o=(0,m.cache)(async a=>l.getBlogPostBySlug(a)),p=(0,m.cache)(async()=>{let a=async(a,b=5e3)=>Promise.race([a,new Promise(a=>setTimeout(()=>a(null),b))]),[b,c,d]=await Promise.all([a(l.getFeaturedListings(3)).then(a=>a||[]),a(l.getBlogPosts(3)).then(a=>a||[]),a(l.getCategoryCounts()).then(a=>a||{restaurants:0,businesses:0,accommodations:0,places:0})]);return{featuredListings:b,blogPosts:c,categoryCounts:d}}),q=(0,m.cache)(async(a,b,c)=>{let d=[],e=[];try{switch(a){case"restaurant":[d,e]=await Promise.all([l.getRestaurants(100,b,c),l.getRestaurantCategories()]);break;case"business":[d,e]=await Promise.all([l.getBusinesses(100,b,c),l.getBusinessCategories()]);break;case"accommodation":[d,e]=await Promise.all([l.getAccommodations(100,b,c),l.getAccommodationCategories()]);break;case"places":[d,e]=await Promise.all([l.getPlaces(100,b,c),l.getPlaceCategories()])}}catch(b){console.error(`Error fetching ${a}:`,b)}return{listings:d,categories:e}}),r=(0,m.cache)(async(a=50)=>l.getBlogPosts(a));a.s(["getCachedArchiveData",0,q,"getCachedBlogPostBySlug",0,o,"getCachedBlogPosts",0,r,"getCachedHomePageData",0,p,"getCachedListingBySlug",0,n],99682),a.s([],57673)},51548,80726,96921,a=>{"use strict";var b=a.i(1269);let c=(0,b.default)("utensils-crossed",[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]]);a.s(["UtensilsCrossed",()=>c],51548);let d=(0,b.default)("bed",[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]]);a.s(["Bed",()=>d],80726);let e=(0,b.default)("landmark",[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]]);a.s(["Landmark",()=>e],96921)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__f5ee0f92._.js.map