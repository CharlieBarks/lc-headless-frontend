module.exports=[93695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},70864,a=>{a.n(a.i(33290))},2894,a=>{a.n(a.i(66188))},13718,a=>{a.n(a.i(85523))},18198,a=>{a.n(a.i(45518))},62212,a=>{a.n(a.i(66114))},72030,a=>{"use strict";let b=(0,a.i(1269).default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);a.s(["ChevronRight",()=>b],72030)},57673,65859,77906,99682,a=>{"use strict";function b(a){let b={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#039;":"'","&#8217;":"'","&#8216;":"'","&#8220;":'"',"&#8221;":'"',"&#038;":"&","&nbsp;":" ","&#160;":" ","&hellip;":"…","&#8230;":"…","&ndash;":"–","&#8211;":"–","&mdash;":"—","&#8212;":"—"};return a.replace(/&[#a-z0-9]+;/gi,a=>b[a]||a)}function c(a){let b=a.claimed;return"boolean"==typeof b?b:"object"==typeof b&&b?.raw?"1"===b.raw||"true"===b.raw:"string"==typeof b?"1"===b:"number"==typeof b&&1===b}function d(a){return!0===a.featured}a.s(["decodeHtmlEntities",()=>b,"isListingClaimed",()=>c,"isListingFeatured",()=>d],65859);let e={restaurant:"https://images.pexels.com/photos/262978/pexels-photo-262978.jpeg?auto=compress&cs=tinysrgb&w=800",business:"https://images.pexels.com/photos/380768/pexels-photo-380768.jpeg?auto=compress&cs=tinysrgb&w=800",accommodation:"https://images.pexels.com/photos/271624/pexels-photo-271624.jpeg?auto=compress&cs=tinysrgb&w=800",places:"https://images.pexels.com/photos/2739664/pexels-photo-2739664.jpeg?auto=compress&cs=tinysrgb&w=800",blog:"https://images.pexels.com/photos/261763/pexels-photo-261763.jpeg?auto=compress&cs=tinysrgb&w=800"};function f(a,b="business"){let c=new Set;if(a.featured_image&&"object"==typeof a.featured_image&&a.featured_image.src&&c.add(a.featured_image.src),Array.isArray(a.images)&&a.images.length>0&&a.images.forEach(a=>{a?.src&&c.add(a.src)}),a._embedded?.["wp:featuredmedia"]?.[0]?.source_url){let b=a._embedded["wp:featuredmedia"][0].source_url;c.add(b)}let d=Array.from(c);return 0===d.length&&d.push(e[b]),d}function g(a,b="business"){return a.featured_image&&"object"==typeof a.featured_image&&a.featured_image.src?a.featured_image.src:Array.isArray(a.images)&&a.images.length>0&&a.images[0]?.src?a.images[0].src:a._embedded?.["wp:featuredmedia"]?.[0]?.source_url?a._embedded["wp:featuredmedia"][0].source_url:a._embedded?.["wp:featuredmedia"]?.[0]?.media_details?.sizes?.medium?.source_url?a._embedded["wp:featuredmedia"][0].media_details.sizes.medium.source_url:e[b]}function h(a){return a._embedded?.["wp:featuredmedia"]?.[0]?.source_url?a._embedded["wp:featuredmedia"][0].source_url:a._embedded?.["wp:featuredmedia"]?.[0]?.media_details?.sizes?.medium?.source_url?a._embedded["wp:featuredmedia"][0].media_details.sizes.medium.source_url:e.blog}a.s(["getAllListingImages",()=>f,"getBlogPostImage",()=>h,"getListingImage",()=>g],77906);let i="https://dir.lascrucesdirectory.com/wp-json/geodir/v2",j="https://dir.lascrucesdirectory.com/wp-json/wp/v2";async function k(a,b={}){return fetch(a,b)}let l={async getRestaurants(a=3,b,c){try{let d=`${i}/restaurant?per_page=${a}&_embed`;b&&(d+=`&gd_restaurantcategory=${b}`),c&&(d+=`&search=${encodeURIComponent(c)}`);let e=await k(d,{next:{revalidate:3600}});if(!e.ok)throw Error("Failed to fetch restaurants");return await e.json()}catch(a){return console.error("Error fetching restaurants:",a),[]}},async getRestaurantCategories(){try{let a=await k(`${i}/restaurant/categories?per_page=100`,{next:{revalidate:3600}});if(!a.ok)throw Error("Failed to fetch restaurant categories");return(await a.json()).filter(a=>a.count>0)}catch(a){return console.error("Error fetching restaurant categories:",a),[]}},async getBusinesses(a=3,b,c){try{let d=`${i}/business?per_page=${a}&_embed`;b&&(d+=`&gd_businesscategory=${b}`),c&&(d+=`&search=${encodeURIComponent(c)}`);let e=await k(d,{next:{revalidate:3600}});if(!e.ok)throw Error("Failed to fetch businesses");return await e.json()}catch(a){return console.error("Error fetching businesses:",a),[]}},async getBusinessCategories(){try{let a=await k(`${i}/business/categories?per_page=100`,{next:{revalidate:3600}});if(!a.ok)throw Error("Failed to fetch business categories");return(await a.json()).filter(a=>a.count>0)}catch(a){return console.error("Error fetching business categories:",a),[]}},async getAccommodations(a=3,b,c){try{let d=`${i}/accommodation?per_page=${a}&_embed`;b&&(d+=`&gd_accommodationcategory=${b}`),c&&(d+=`&search=${encodeURIComponent(c)}`);let e=await k(d,{next:{revalidate:3600}});if(!e.ok)throw Error("Failed to fetch accommodations");return await e.json()}catch(a){return console.error("Error fetching accommodations:",a),[]}},async getAccommodationCategories(){try{let a=await k(`${i}/accommodation/categories?per_page=100`,{next:{revalidate:3600}});if(!a.ok)throw Error("Failed to fetch accommodation categories");return(await a.json()).filter(a=>a.count>0)}catch(a){return console.error("Error fetching accommodation categories:",a),[]}},async getPlaces(a=3,b,c){try{let d=`${i}/places?per_page=${a}&_embed`;b&&(d+=`&gd_placecategory=${b}`),c&&(d+=`&search=${encodeURIComponent(c)}`);let e=await k(d,{next:{revalidate:3600}});if(!e.ok)throw Error("Failed to fetch places");return await e.json()}catch(a){return console.error("Error fetching places:",a),[]}},async getPlaceCategories(){try{let a=await k(`${i}/places/categories?per_page=100`,{next:{revalidate:3600}});if(!a.ok)throw Error("Failed to fetch place categories");return(await a.json()).filter(a=>a.count>0)}catch(a){return console.error("Error fetching place categories:",a),[]}},async getFeaturedListings(a=3){try{let[b,c]=await Promise.all([k(`${i}/restaurant?per_page=100&_embed`,{next:{revalidate:3600}}),k(`${i}/business?per_page=100&_embed`,{next:{revalidate:3600}})]),d=await Promise.all([b.ok?b.json():[],c.ok?c.json():[]]);return[...d[0],...d[1]].filter(a=>a.featured_image&&"object"==typeof a.featured_image&&a.featured_image.src).sort(()=>Math.random()-.5).slice(0,a)}catch(a){return console.error("Error fetching featured listings:",a),[]}},async getBlogPosts(a=3){try{let b=await k(`${j}/posts?per_page=${a}&_embed`,{next:{revalidate:3600}});if(!b.ok)throw Error("Failed to fetch blog posts");return await b.json()}catch(a){return console.error("Error fetching blog posts:",a),[]}},async getCategoryCounts(){try{let[a,b,c,d]=await Promise.all([k(`${i}/restaurant?per_page=1`,{next:{revalidate:3600}}),k(`${i}/business?per_page=1`,{next:{revalidate:3600}}),k(`${i}/accommodation?per_page=1`,{next:{revalidate:3600}}),k(`${i}/places?per_page=1`,{next:{revalidate:3600}})]);return{restaurants:parseInt(a.headers.get("X-WP-Total")||"0"),businesses:parseInt(b.headers.get("X-WP-Total")||"0"),accommodations:parseInt(c.headers.get("X-WP-Total")||"0"),places:parseInt(d.headers.get("X-WP-Total")||"0")}}catch(a){return console.error("Error fetching category counts:",a),{restaurants:0,businesses:0,accommodations:0,places:0}}},async searchListings(a,b=10){try{let[c,d,e,f]=await Promise.all([k(`${i}/restaurant?search=${encodeURIComponent(a)}&per_page=${b}`,{next:{revalidate:3600}}),k(`${i}/business?search=${encodeURIComponent(a)}&per_page=${b}`,{next:{revalidate:3600}}),k(`${i}/accommodation?search=${encodeURIComponent(a)}&per_page=${b}`,{next:{revalidate:3600}}),k(`${i}/places?search=${encodeURIComponent(a)}&per_page=${b}`,{next:{revalidate:3600}})]),g=await Promise.all([c.json(),d.json(),e.json(),f.json()]);return[...g[0],...g[1],...g[2],...g[3]].slice(0,b)}catch(a){return console.error("Error searching listings:",a),[]}},async getListingBySlug(a,b){try{let c=await k(`${i}/${a}?slug=${b}&_embed`,{next:{revalidate:3600}});if(!c.ok)throw Error("Failed to fetch listing");let d=await c.json();return d.length>0?d[0]:null}catch(a){return console.error("Error fetching listing:",a),null}},async getListingById(a,b){try{let c=await k(`${i}/${a}/${b}?_embed`,{next:{revalidate:3600}});if(!c.ok)throw Error("Failed to fetch listing");return await c.json()}catch(a){return console.error("Error fetching listing:",a),null}},async getBlogPostById(a){try{let b=await k(`${j}/posts/${a}?_embed`,{next:{revalidate:3600}});if(!b.ok)throw Error("Failed to fetch blog post");return await b.json()}catch(a){return console.error("Error fetching blog post:",a),null}},async getBlogPostBySlug(a){try{let b=await k(`${j}/posts?slug=${a}&_embed`,{next:{revalidate:3600}});if(!b.ok)throw Error("Failed to fetch blog post");let c=await b.json();return c.length>0?c[0]:null}catch(a){return console.error("Error fetching blog post:",a),null}},async getPageById(a){try{let b=await k(`${j}/pages/${a}?_embed`,{next:{revalidate:3600}});if(!b.ok)throw Error("Failed to fetch page");return await b.json()}catch(a){return console.error("Error fetching page:",a),null}},async getPageBySlug(a){try{let b=await k(`${j}/pages?slug=${a}&_embed`,{next:{revalidate:3600}});if(!b.ok)throw Error("Failed to fetch page");let c=await b.json();return c.length>0?c[0]:null}catch(a){return console.error("Error fetching page:",a),null}}};var m=a.i(717);let n=(0,m.cache)(async(a,b)=>l.getListingBySlug(a,b)),o=(0,m.cache)(async a=>l.getBlogPostBySlug(a)),p=(0,m.cache)(async()=>{let a=async(a,b=5e3)=>Promise.race([a,new Promise(a=>setTimeout(()=>a(null),b))]),[b,c,d]=await Promise.all([a(l.getFeaturedListings(3)).then(a=>a||[]),a(l.getBlogPosts(3)).then(a=>a||[]),a(l.getCategoryCounts()).then(a=>a||{restaurants:0,businesses:0,accommodations:0,places:0})]);return{featuredListings:b,blogPosts:c,categoryCounts:d}}),q=(0,m.cache)(async(a,b,c)=>{let d=[],e=[];try{switch(a){case"restaurant":[d,e]=await Promise.all([l.getRestaurants(100,b,c),l.getRestaurantCategories()]);break;case"business":[d,e]=await Promise.all([l.getBusinesses(100,b,c),l.getBusinessCategories()]);break;case"accommodation":[d,e]=await Promise.all([l.getAccommodations(100,b,c),l.getAccommodationCategories()]);break;case"places":[d,e]=await Promise.all([l.getPlaces(100,b,c),l.getPlaceCategories()])}}catch(b){console.error(`Error fetching ${a}:`,b)}return{listings:d,categories:e}}),r=(0,m.cache)(async(a=50)=>l.getBlogPosts(a));a.s(["getCachedArchiveData",0,q,"getCachedBlogPostBySlug",0,o,"getCachedBlogPosts",0,r,"getCachedHomePageData",0,p,"getCachedListingBySlug",0,n],99682),a.s([],57673)},60612,a=>{"use strict";let b=(0,a.i(1269).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);a.s(["Calendar",()=>b],60612)},52519,a=>{"use strict";var b=a.i(7997),c=a.i(95936),d=a.i(3236),e=a.i(5246),f=a.i(60612),g=a.i(72030),h=a.i(56603);a.i(57673);var i=a.i(77906),j=a.i(65859),k=a.i(99682),l=a.i(94474);let m=["facebook.com","twitter.com","x.com","instagram.com","linkedin.com","youtube.com","tiktok.com","pinterest.com","snapchat.com","reddit.com"];async function n({params:a}){let{slug:b}=await a,c=await (0,k.getCachedBlogPostBySlug)(b);if(!c)return{title:"Not Found"};let d=(await (0,e.headers)()).get("host")||"",f=d.includes("localhost")?"http":"https",g=`${f}://${d}/blog/${b}`,h=await (0,l.getCachedBlogPostSEO)(b),m=c.excerpt.rendered.replace(/<[^>]*>/g,"").trim(),n=(0,j.decodeHtmlEntities)(c.title.rendered);return{title:h.title||n,description:h.description||m,openGraph:{title:h.ogTitle||n,description:h.ogDescription||m,images:h.ogImage?[h.ogImage]:(0,i.getBlogPostImage)(c)?[(0,i.getBlogPostImage)(c)]:void 0,type:"article"},twitter:{card:"summary_large_image",title:h.twitterTitle||n,description:h.twitterDescription||m,images:h.twitterImage?[h.twitterImage]:(0,i.getBlogPostImage)(c)?[(0,i.getBlogPostImage)(c)]:void 0},alternates:{canonical:g}}}async function o({params:a}){var e;let{slug:n}=await a,o=await (0,k.getCachedBlogPostBySlug)(n);if(!o)return(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("h1",{className:"text-4xl font-bold text-slate-900 mb-4",children:"Post Not Found"}),(0,b.jsx)(c.default,{href:"/blog",className:"text-emerald-600 hover:text-emerald-700 font-medium",children:"Return to Blog"})]})});let p=(0,i.getBlogPostImage)(o),q=o.content?Math.ceil(o.content.rendered.replace(/<[^>]*>/g,"").split(/\s+/).length/200):5,r=(0,l.generateArticleSchema)({headline:(0,j.decodeHtmlEntities)(o.title.rendered),description:o.excerpt?.rendered?.replace(/<[^>]*>/g,"").trim(),image:p,datePublished:o.date,author:"Las Cruces Directory"}),s=(0,l.generateBreadcrumbSchema)([{name:"Home",url:"https://lascrucesdirectory.com"},{name:"Blog",url:"https://lascrucesdirectory.com/blog"},{name:(0,j.decodeHtmlEntities)(o.title.rendered),url:`https://lascrucesdirectory.com/blog/${n}`}]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(l.JsonLdScript,{data:[r,s]}),(0,b.jsx)("nav",{"aria-label":"Breadcrumb",className:"bg-white border-b border-slate-200 py-4",children:(0,b.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,b.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-slate-600",children:[(0,b.jsx)(c.default,{href:"/",className:"hover:text-emerald-600 transition-colors",children:"Home"}),(0,b.jsx)(g.ChevronRight,{className:"w-4 h-4","aria-hidden":"true"}),(0,b.jsx)(c.default,{href:"/blog",className:"hover:text-emerald-600 transition-colors",children:"Blog"}),(0,b.jsx)(g.ChevronRight,{className:"w-4 h-4","aria-hidden":"true"}),(0,b.jsx)("span",{className:"text-slate-900 font-medium truncate",children:(0,j.decodeHtmlEntities)(o.title.rendered)})]})})}),(0,b.jsxs)("article",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,b.jsxs)("header",{className:"mb-12",children:[(0,b.jsx)("h1",{className:"text-5xl md:text-6xl font-bold text-slate-900 mb-6 leading-tight",children:(0,j.decodeHtmlEntities)(o.title.rendered)}),(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-6 text-slate-600 mb-8",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(f.Calendar,{className:"w-5 h-5 text-emerald-600","aria-hidden":"true"}),(0,b.jsx)("time",{dateTime:o.date,children:new Date(o.date).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(h.Clock,{className:"w-5 h-5 text-emerald-600","aria-hidden":"true"}),(0,b.jsxs)("span",{children:[q," min read"]})]})]}),p&&(0,b.jsx)("div",{className:"relative h-96 rounded-2xl overflow-hidden shadow-2xl mb-8",children:(0,b.jsx)(d.default,{src:p,alt:(0,j.decodeHtmlEntities)(o.title.rendered),fill:!0,priority:!0,sizes:"(max-width: 1024px) 100vw, 800px",className:"object-cover"})})]}),o.content&&(0,b.jsx)("div",{className:"wp-content",dangerouslySetInnerHTML:{__html:(e=o.content.rendered)?e.replace(/<a\s+([^>]*href=["'])([^"']+)(["'][^>]*)>/gi,(a,b,c,d)=>{try{let a=new URL(c),e=m.some(b=>a.hostname.includes(b)),f=a.hostname.includes("lascrucesdirectory.com")||a.hostname.includes("localhost");if(!e&&!f)return a.searchParams.set("referrer","lascrucesdirectory.com"),`<a ${b}${a.toString()}${d}>`}catch{}return a}):e}}),(0,b.jsx)("footer",{className:"mt-16 pt-8 border-t border-slate-200",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)(c.default,{href:"/blog",className:"inline-flex items-center space-x-2 text-emerald-600 hover:text-emerald-700 font-medium transition-colors group",children:[(0,b.jsx)("span",{className:"group-hover:-translate-x-1 transition-transform",children:"←"}),(0,b.jsx)("span",{children:"Back to Blog"})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,b.jsx)("span",{className:"text-sm text-slate-600",children:"Share:"}),(0,b.jsxs)("a",{href:`https://twitter.com/intent/tweet?url=${encodeURIComponent(o.link)}&text=${encodeURIComponent(o.title.rendered)}`,target:"_blank",rel:"noopener noreferrer",className:"text-slate-600 hover:text-emerald-600 transition-colors",children:[(0,b.jsx)("span",{className:"sr-only",children:"Share on Twitter"}),(0,b.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})})]}),(0,b.jsxs)("a",{href:`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(o.link)}`,target:"_blank",rel:"noopener noreferrer",className:"text-slate-600 hover:text-emerald-600 transition-colors",children:[(0,b.jsx)("span",{className:"sr-only",children:"Share on Facebook"}),(0,b.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})]})]})]})})]})]})}a.s(["default",()=>o,"generateMetadata",()=>n,"revalidate",0,3600])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__5efaef6d._.js.map